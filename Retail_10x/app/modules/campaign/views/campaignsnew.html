  <!-- change test -->

  <div ng-include src="'modules/dashboard/views/header.html'"></div>

  <div ng-include src="'modules/dashboard/views/idlemodel.html'"></div>

  <style>
    .text-replacement {
      display: block;
      -moz-box-sizing: border-box;
      box-sizing: border-box;
      height: 10px;
      width: 50px;

      overflow: hidden;
      background: #333 url(http://cdn.css-tricks.com/wp-content/themes/CSS-Tricks-10/images/footer-logo-shoptalk.png) no-repeat;
    }

    .scrollable-dropdown-menu .dropdown-menu {
      max-height: 150px;
      overflow-y: auto;
    }

    .image {
      width: 50px;
      float: left;
    }
    .dropdown-menu {
    /*display: block;*/
    height: 250px;
    overflow: auto;
  }
  .textarea { height: auto; }

  </style>

  <script type="text/ng-template" id="customTemplate.html">

        <a>
        <img ng-src="{{match.model.image}}" width="60">
        <span ng-bind-html="match.model.product | uibTypeaheadHighlight:query"></span>
      <span></span>
       <span ng-bind-html="match.model.price | uibTypeaheadHighlight:query"></span>

        </a>

    </script>
  <section class="products">
    <div ng-controller="campaignCtrl">
      <div  class="container-fluid">
        <div class="row row_margin dashbordbg-navbar">
          <div class="campaignForm">

  <form name="userForm" ng-submit="savecampign();" validate>

          <div class="row" style="margin-top:10px;">

           <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3" >
             <div  class="cmpheading">New Campaign </div>
           </div>

       
           <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                
        <!-- first row.......... -->
             <div class="row">
               <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3 cmppadding1">
                  <b> DETAILS </b>
               </div>

               <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9 ">
                   <div class="row">
                      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <div class="compaginfont"> Campaign Name</div>
                      </div>
                       <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                          <input type="text" class="cmpagin-form-control" ng-model="campaignName" placeholder="Enter campaign name" style="height:35px;" required>
                      </div>
                    </div> 

                     <br>

                    <div class="row">
                      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <div class="" style="font-size:12px;"> Comments</div>
                      </div>
                       <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                        <!--   <input type="text" class="cmpagin-form-control" ng-model="description" style="height:65px;" 
                          ng-disabled="campaignName==undefined" rows="5" required> -->
                     <textarea name="Text" ng-model="description" 
                     class="form-control" 
                     rows="5" ng-disabled="campaignName==undefined" rows="5" required    >
                       
                     </textarea>


                      </div>
                    </div> 

                    <br>

    <div class="row">
    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
    <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <div class="compaginfont"> Start </div>
    </div>

    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12  date date-icon">
   <div class="row">
  <div class="col-xs-10 col-sm-10 col-md-8 col-lg-10">

   <input type="text" 
          id="startcapaigndate" 
          ng-model="campaignstartdate" 
          class="cmpagin-form-control"
          ng-disabled="description==undefined" 
          placeholder="mm/dd/yyyy" 
          style="height:35px;" required>
   </div>
   <div class="col-xs-2 col-sm-2 col-md-3 col-lg-2">
   <label  for="startcapaigndate" style="cursor: pointer;">
  <span class="fa fa-calendar " style="font-size:33px;margin-left:-25px ! important;margin-top:-2px;color:rgba(128, 128, 128, 0.5);"></span>
   </label> 
  </div>  
  </div>
  </div>
  </div>
  </div>

  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
  <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  <div class="compaginfont">End </div>
  </div>
  
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 date date-icon">
  <div class="row">
  <div class="col-xs-10 col-sm-10 col-md-9 col-lg-10">
  
  <input type="text" class="cmpagin-form-control" 
  ng-model="campaignenddate" 
  id="endcapaigndate" 
  placeholder="mm/dd/yyyy" 
  ng-disabled="!campaignstartdate" 
  style="height:35px;" required>
  </div>
  <div class="col-xs-2 col-sm-2 col-md-3 col-lg-2">
  <label for="endcapaigndate" style="cursor: pointer;">
  <span class="fa fa-calendar " style="font-size:33px;margin-left:-25px ! important;margin-top:-2px;color:rgba(128, 128, 128, 0.5);"></span>
  </label> 
  </div>  
  </div>
  </div>
  </div>
  </div>
  </div> 
    <br>

  <div class="row">
  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
  <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  <div class="compaginfont"> Deadline for Sign Up 
  </div>
  </div>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12  date date-icon">
  <div class="row">
  <div class="col-xs-10 col-sm-10 col-md-9 col-lg-10">
  <input type="text" class="cmpagin-form-control"  placeholder="mm/dd/yyyy" ng-model="campaigndeadlineSignupdate" style="height:35px;" id="deadlinedate" 
   ng-disabled="!campaignenddate"
    required>
  </div>
  <div class="col-xs-2 col-sm-2 col-md-3 col-lg-2">
  <label for="deadlinedate" style="cursor: pointer;">
  <span class="fa fa-calendar" style="font-size:33px; margin-left:-25px ! important;margin-top:-2px;color:rgba(128, 128, 128, 0.5);"></span>
  </label> 
  </div> 
  </div>
  </div>  
  </div>  
  </div>
  </div>          
  </div>              
  </div>
      <!-- first row end...... -->
    <br><br>
  <div class="line-divider"></div> 
    <br><br>
  <!-- second row....... -->
  <div class="row">
  <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3 cmppadding1">
    <b> PROMOTION TYPE </b>
  </div>

  <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9 ">
  <div class="row">
  <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4 compaginfont" ng-repeat="record in promotionList track by $index">
    <input type="checkbox" ng-model="record.selected" 
    ng-change="addpromotiontype(record,record.selected);"> {{record.promotion}}
  </div>

  
    </div>
    </div>
    </div>
        <!-- second row end...... -->

      <br><br>
   <div class="line-divider"></div> 
      <br><br>

       <!-- third row.......... -->
               
    <div class="row">
    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3 cmppadding1">
      <b> STORES </b>
    </div>

    <div class="right-inner-addon col-xs-12 col-sm-9 col-md-9 col-lg-9 ">
    <div class="row">
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4 ">
    <div class="row">
   <div class="col-xs-6 col-sm-12 col-md-12 col-lg-12 compaginfont">
   <input  type="checkbox" ng-model="allstores" ng-change="addallstores()"> All Stores
   </div>
                         
  <div class="col-xs-6 col-sm-12 col-md-12 col-lg-12" style="color:rgba(128, 128, 128, 0.5);margin-top:10px">
   <div class="row">
  <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
   <span class ="glyphicon glyphicon-plus-sign" style="  font-size:25px;margin-top:2px;" ng-click="enablestoretypehead();">
  </span>
  </div>
  <div class="col-xs-10 col-sm-9 col-md-9 col-lg-10 ">
  <div class="compaginfont" style="margin-top:7px;"> Add Stores 
  </div>
  </div>
  </div>    
  </div>
  </div>
  </div> 
  </div>

  <div ng-if="enablestore">

  <div class="row" ng-repeat="list in selectedstores" ng-if="list.id>0">
                    
  <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
    <p style="color: #003bb3">{{list.storeName}}</p>
  </div>
 <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
  <a ng-click="removestore(list);">
  <span style="color:grey;padding:8px;" class="glyphicon glyphicon-remove"></span>
        </a>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" >
        <div class="line-divider"></div> 
        </div> 
        </div>
        <br>

           <div class="row">
            <div id="scrollable-dropdown-menu" class="col-xs-9 col-sm-9 col-md-10 col-lg-10">
            <i class="glyphicon glyphicon-search"></i>
            <input id="SelectStore" type="text"
                   ng-model="store"
                   class="cmpagin-form-control"
                   typeahead-min-length="3"
                   uib-typeahead="Lists.store_name for Lists in List | filter:$viewValue" autocomplete="off" onscroll="true"   >
            </div>
            <div class="col-xs-3 col-sm-3 col-md-2 col-lg-2">
            <button type="button" class="cmpagin-form-control button-margin" ng-click="addselectedstore();">
            {{'Retaillang.camp-addbtn' | i18n }}
            </button>
            </div>
            </div>
            </div>


              </div>
              </div>

                <!-- third row end......... -->
              
              <br><br>
                 <div class="line-divider"></div> 
             <br><br>
                  

                <!-- fourth row.........   -->
              
              <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3 cmppadding1">
                   <b>AD SHEET</b>
                </div>

      <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9 ">

      <div ng-if="fileuploadspinner"> 
          <span us-spinner="{radius:10, width:5, length: 10}" spinner-key="spinner-1"
          spinner-start-active="false">
          </span>
          </div> 
      <span id="myfile" class="glyphicon glyphicon-save cmpcolor"   style="font-size:20px;cursor: pointer;">
      </span>
                   
      <span class="compaginfont cmpcolor"> Upload Ad Sheet </span>
      <input id="fileupload" type="file" name="files[]"   class="hidden"
      onchange="angular.element(this).scope().getadsheetDetails()" 
       multiple ng-disabled="campaignId==undefined||campaignId==null"/>



       <div ng-if="addsheetList.length>0" class="row" ng-repeat="list in addsheetList">
                    
        <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
        <p style="color: #003bb3">{{list.orginalName}}</p>
        </div>
        <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
        <a ng-click="removeadsheetFile(list);">
        <span style="color:grey;padding:8px;" class="glyphicon glyphicon-remove"></span>
        </a>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" >
        <div class="line-divider"></div> 
        </div> 
        



      </div>
      </div>  
      </div>

              <br><br>
                <div class="line-divider"></div> 
             <br><br>
             

      <div class="row">
     <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3 cmppadding1">
       <b>PRODUCTS</b>
       </div>

      <div class="right-inner-addon col-xs-12 col-sm-9 col-md-9 col-lg-9 ">

      <div ng-repeat="product in selectedProductarray" 
      style="margin-bottom: 10px" ng-if="product.id>0">
      <div class="row" >
      
        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
         <b>{{product.Name}}</b>
        </div>
        <div class="col-xs-6 col-sm-2 col-md-2 col-lg-2">
           {{product.price}}
         </div>
         <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
           {{product.mfgName}}
         </div>
         <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
           {{product.id}}
         </div>
        <div class="col-xs-4 col-sm-1 col-md-1 col-lg-1">
        <a ng-click="removeproduct(product.id);">
        <span style="color:blue;padding:6px;"
        class="glyphicon glyphicon-remove">
        </span>
        </a>
        </div>
        </div>

        <div class="row">
        <div class="line-divider"></div> 
        </div>
        </div>


      <!-- Product typeahead-->

        <!-- <div ng-show="productfield==true"> -->
        <div class="row ">
        <div class="col-xs-9 col-sm-9 col-md-10 col-lg-10">
          <i class="glyphicon glyphicon-search"></i>
         <input type="text" ng-model="product"
                class="cmpagin-form-control"
                typeahead-min-length="3"
                uib-typeahead="typeaheadList.product for typeaheadList in GetProductList($viewValue) "
                typeahead-on-select="product"
                typeahead-loading="loadingLocations"
                typeahead-no-results="noResults" autocomplete="off"
                typeahead-template-url="customTemplate.html">
        </div>
        <div class="col-xs-3 col-sm-3 col-md-2 col-lg-2">
        <button type="button" class="cmpagin-form-control button-margin" ng-click="addProduct(product);">{{ 'Retaillang.camp-addbtn' | i18n }}</button>
        </div>
        </div>
        <div class="row">
        <div class="col-xs-9 col-sm-9 col-md-10 col-lg-10">
        <div ng-if="Noproductsselected">
        <span style="color: red">
        Please Add Product Details
        </span>
        </div>
        </div>
        </div>
        <!-- </div> -->

        <!--product typehead end-->
        </div>
        </div>  
                
                 <!-- forth row end..... -->
              <br><br>
                <div class="line-divider"></div> 
             <br><br>

               <!-- fifth row...... -->

              <!--  <div ng-if="campaignId"> -->

          <div class="row">
          <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3 cmppadding1 ">
                <b>ADDITIONAL FILES</b>
          </div>

           <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9 cmpcolor">

          <div ng-if="addfileuploadspinner"> 
          <span us-spinner="{radius:10, width:5, length: 10}" spinner-key="spinner-1"
          spinner-start-active="false">
          </span>
          </div> 


      <span id="additionalfile" class="glyphicon glyphicon-save cmpcolor " id="rotate1"  style="font-size:20px;cursor: pointer;">
      </span>

      <fileupload-directive></fileupload-directive>
                   
      <span class="compaginfont cmpcolor">  Upload additional files (optional)</span>
      <input id="uploadfile" type="file"
            name="uploadedfiles[]"
            class="hidden" 
          onchange="angular.element(this).scope().getFileDetails(this)"
            multiple  
             ng-disabled="campaignId==undefined||campaignId==null"/>


        <div ng-if="additionalFilesList.length>0" class="row" ng-repeat="list in additionalFilesList">
                    
        <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
        <p style="color: #003bb3">{{list.orginalName}}</p>
        </div>
        <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
        <a ng-click="removeaditionalFile(list);">
        <span style="color:grey;padding:8px;" class="glyphicon glyphicon-remove"></span>
        </a>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" >
        <div class="line-divider"></div> 
        </div> 
        </div>          
        </div>
        </div>  

            <!-- fifth row end.... -->

             <br><br>
                <div class="line-divider"></div> 
             <br>
           <!--   </div>
 -->



            <div class="row">
              <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4 cmppadding1">
                 <!-- <input type="checkbox" class="compaginfont" > Add to Promotional Calendar -->
              </div>

              <div class="col-xs-12 col-sm-1 col-md-1 col-lg-4"> </div>

              <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                <center>
                   <button type="submit" class="btn campaignForm-btn " invalid-checker="200">
                      {{ 'Retaillang.startcampaignbtn' | i18n }}
                    </button>
                </center>
              </div>

            </div>
                
          </div>
        
      </div>
</form>


 </div>
</div>
</div>
</div>
</section>








  