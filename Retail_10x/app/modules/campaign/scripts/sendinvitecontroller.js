            'use strict';
            /**
             * @ngdoc controller
             * @name campaignModule.CampaignCtrl
             * @requires $scope
             * @requires $state
             * @requires dashBoard.serviceFactory
             * @description
             * Campaign performs the authentication with help of Service and broadcasts the events to other modules
             *
             * */
angular.module('sendinvite.controllers', [])




.directive('execOnScrollToTop', function () {

  return {
    
    restrict: 'A',
    link: function (scope, element, attrs) {
      var fn = scope.$eval(attrs.execOnScrollToTop);

      element.on('scroll', function (e) {

        if (!e.target.scrollTop) {
          console.log("scrolled to top...");
          scope.$apply(fn);
        }

      });
    }
    
  };
  
})



.directive('execOnScrollToBottom', function () {

  return {
    
    restrict: 'A',
    link: function (scope, element, attrs) {
      var fn = scope.$eval(attrs.execOnScrollToBottom),
          clientHeight = element[0].clientHeight;

      element.on('scroll', function (e) {
        var el = e.target;

        if ((el.scrollHeight - el.scrollTop) === clientHeight) { // fully scrolled
          console.log("scrolled to bottom...");
          scope.$apply(fn);
        }
      });
    }
    
  };
  
})

.controller('sendinviteCtrl', ['$scope','$location', '$anchorScroll','$window', '$state', 'serviceFactory', 'dashBoardService', 'campaignService', '$filter', '$stateParams', 'usSpinnerService', 'productService', '$timeout','PubnubService','$rootScope',
         function ($scope,$location, $anchorScroll, $window,$state, serviceFactory, dashBoardService, campaignService, $filter, $stateParams, usSpinnerService, productService, $timeout,PubnubService,$rootScope) {
              

           $scope.role= sessionStorage.role;
                $scope.campaign_status = null;

             if ($stateParams.status) {
        $scope.campaign_status = $stateParams.status;
      }else {

        if($scope.role=="retailer") {
          var pathname = window.location.pathname; // Returns path only
          var url      = window.location.href;     // Returns full URL

          var n=url.split("/");
          var word = n[n.length - 1];

          if(word=='campaignListActive'){
            $scope.campaign_status = 'Active';
          }
          if(word=='campaignListPending'){
            $scope.campaign_status = 'Pending';
          }
          if(word=='campaignListArchive'){
            $scope.campaign_status = 'Archive';

          }


        }
        if ($scope.role=="cpg"){

           var pathname = window.location.pathname; // Returns path only
          var url      = window.location.href;     // Returns full URL

          var n=url.split("/");
          var word = n[n.length - 1];

          if(word=='campaignListActive'){
            $scope.campaign_status = 'Active';
          }
          if(word=='campaignListPending'){
            $scope.campaign_status = 'Pending';
          }
          if(word=='campaignListArchive'){
            $scope.campaign_status = 'Archive';

          }

        }
      }


                var ctrl = this;
                 $scope.user = {
                    chatText: ''
                    
                  };
                  $scope.grantApiResponse={};
                   $scope.productmessages=[];

                         $scope.logo = "data:image/png;base64,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";
                         $scope.xls = "data:image/png;base64,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";
                         $scope.nathanlogo ="data:image/jpeg;base64,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";
                    
                         $scope.pdf="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAHcAdwMBEQACEQEDEQH/xAAcAAABBAMBAAAAAAAAAAAAAAAAAgQFBwEDBgj/xABIEAABAwIBAw0LCwMFAAAAAAABAgMEAAURBhIhBxMVMUFUcXORkpOy0RQiMzRRU1VhcrHSFhclMkVSdIGUocE2QmIkNUOCov/EABoBAQACAwEAAAAAAAAAAAAAAAADBQECBAb/xAA5EQACAQMAAwwJBAMBAAAAAAAAAQIDBBEFEiEGExQxQVFScYGhsdEVMjNCU2GRweEWIjRDJGLxI//aAAwDAQACEQMRAD8AvGgCgCgI1L0yQ49rC2UIbXmd8kknQD/NALzbj5+P0Z7aAMy4+fj9Ge2gM5lx8/H6M9tAGZcfPx+jPbQBmXHz8foz20AlQuKf+aP0Z7aA1Kfnt6VKZUBtjMI7aAcQLg3LxSO8cTtoO3w8Gg8lAPaAKAKAiMrLo5ZbBMuDCErcZRilKtona00bwm+Ymt6Sq1YwbxllVfOllD5uD0Svirld0+iXy0NQfvPu8gOqllD5uD0Su2scKfRN1oOg/efd5GlrVLvrOfmNw+/XnnFs7eAHl9VY4W+iSLQNv0pd3kL+dLKDzcLo1dtOFvoo3W5+3fvy7vIPnSyg83C6NXbWHeNe6jdbnLZ+/Lu8g+dPKDzcLo1dtY4a+ijZbmrZ+/Lu8g+dPKDzcLoz21jhz6KNv0za9OXd5GRqp3/zcPo1dtOHPoofpm16cu7yA6qV/O21C6M9tOHPooz+mLXpy7vI7XIbKWRlFHWJjbaXU4nFsYA12U575BSxg81pSyjZXG9QeVhPaSTSF91zEoJSplwLQsaSjOGnhBzdI/mtyuJqBNEgFDgCXkjvkg7m4R5RQD2gCgOY1Sv6LuXsD3isS9WXUzqsf5NPrKCqsZ7GIGsE0Tu7sqy2K25PF3J6HLE2El2QpRUlwnAYkEHb01NLVio/t4ypoK4ualXFVx1Xs5jVMyct8DVIt9sQ2XIEhSHNZdOOalQPek7Z2qw6aVZR5Cane1amjp1W8SWVleJrn3PJ2PfJdtuGTUURGpKmtejOLQ4kAkZ23p4K0lKmpuLjsJaNveSoRq0qz1ms4aTXUaZeTTFoy9t1sWe6YMh5lTef/e2pWGB/cVh0lGqo8hLSv5V9H1Ky2SSf1SDKi5W+Hcbna4+TtuQlpxbKHwF56dwK28Md2sVZRjJxUUbWFvWqUqdaVaW1J42Y8DkBXOXZmhktHUg0l32f5NW1t7Fdp4PdF/N7F9zt4T8Zi7XMSXmm87W8NcWE46D5anKIRKdhB0LjTo+ek4pKXEkpP8g7ooCUt05MpJSoBLqfrJxx/MHdFAPaA5jVK/ou5ewPeKxL1ZdTOqx/k0+soKqxnsYmDWCaJY2UV6FotOSyha7fLd2PQtDktsrLZATtYEVPOerGOxcRS2ltv9WutdxWtycvGQGTNyl3bVAt06e6XZDskFRwwAGBwAG4BUcJOVVNlleUadDR86dNYSRuumSt5u2VtxSzAfbYcmOEyHWyhtKSo99idBGHkrWdKcqjwjNDSNtQs4a0k2kti2vJI3a5xbjqk2VuC5rkeG7HjpcGkLIVpI9WnD8q3nNSrRxyYILe3nR0ZWdRYclJ9xH5a5TXjZm72wzT3Hr629a1tH1cdrHDH96jr1Z67jnYdWjNH228Uq2r+7CecvzOPrnLszQ2LR1H9t32f5NW1t7Fdp4LdF/O7F9ywZNmgyni9IYStZ3SKnKI1rssAJwEZvD2aAYyIex7apEM5hZSVhO5o0kfnhhyHcoDpG1ZzaVeUUBAZfxnpmSVwYjNlx1TfepG2cDRpuLS5mdFpOMLiEpPCTKHNsnDQYrgP5VwuhU5vA9Qr+26aA2ydvVf7VrwerzeBKtIWnxEKdjXOQlCXUvOpaGYgKczsweQYnQPVTg9Z8a8DeN/Yxy1NLIlqDcmXUustOtuIOKVoWAUn1EGitq2eLwJHpGxksSqJocvHKCQ0pp+ROdbVtockFQP5E1iVvcPk7/yKd5oyG1OKfV+Bs3b7i04lxppxDiCFJUlQBSRtEHHRWnBa3N4E/pSwaalUWAdt9yecU680444s4qWpYJJ8pONOC13yeBtHSuj4rEaiSMbFTt7nlFY4JW6Pgbel7H4qDYubvdXKKcErdHwM+l7D4qLK1KIr8cul5sp73+TVjRg4UlF8e08dpu4pXF3r0nlYRZWNSFQGIO3QDC7oxt0riV9U0BJM+CTwUApSQoYKGINANzAiE4mO3zaAwbfD3u3zaAjYECIVSsY7fhz/b/imgHncETe7fNoDPcETe7fNoDHcETe7fNoA7gib3b5tAY7hib3b5tAY7gib3b5tAbWmWmRg0hKeAUAvGgDGgG10P0bK4lfuNASDXg08FALoAoAO1QEZbtuX+IPVTQDygOWytywTk3MYjqhKka83n4hzNw04eSuavcb00sZLrRmh3fwlNT1cPHEQXzpI9EL6cdlQ8PXRLL9Ky+L3fkSdVRA+x1/qB2U4cuiYe5eS/tX0/Ig6qzY+xnP1A+Gs8N/1NXuZkv7V9BJ1WGx9jL/AFA+Gs8NXMafpuXxe4SdVtsfYy/1A+GnDFzGr3OyX9i+g4tmqnGmTmo71tWwhZw1zXgrD8sKkp3GvLGDkvNDytqLq6+cfIsBKwtAUNojEV0lMNrkfo+TxK/caAlGvBp4KAXQBQAdqgIy37cv8QeqmgHdAVVqvKwvNv8AwyutVbfeuj2m5h4t6nX9jgiuuHB6XWEKVWcGrkT+UEOBBtsBDUfB5+3sSdeBOKlqJz8dzDDa4K6ZwjGKwuRFPa161WtNuWxSksfJcRzCjUJYNmtRrYjbN1sP0lH4we+ui39oio0w/wDDl2eKPR8XxZr2B7qsjxZruP8At8niV+40BKteDTwUAugCgA7VARcDQqX63z1U0A6oCp9WJWF4t/4Y9aq689ZHsNzbxQqdf2OAK648HotYSV6KyjXWOvvShJ1OrPN1tRdS53GteGgIQVlPLiOSuqW2in2FFb/s0jUhnZ62OtI4lS650W7YgqrbBG2OLUcblH4we+p7f2iKrSzzaS7PE9IRT/pmvYHuqxPHGu4+ISeJX1TQEs14NPBQC6AKAKAi4X15XHnqpoBzQFR6s6sLzb/wx6xrgu/WR6vc88UZ9f2K9z65MF/rG2FHfnzGIcVGe++sNoT6z/FbRg5PBHVrRpwc5cSO1fv1uanPZLSXPoFDCYevgfUeScS+P+5OPqrq14p72+Io1b1XBXcfaN57HyfQ5O8WG5WmX3O+wtxKxnMvMgrQ8ncUkjbqGVOUXgsaV5SrR1k8fJ8hHvxJbCc9+K+2j7y2ikfvWNVrkNlXpyeFJfUVaD9KRuMFS0PaIr9KvNrLs8T0nF8Wa9ge6rA8ka7j4hJ4lfVNAS7Xg08FALoAoAoCJhnv5XHnqpoBwTQFQ6tSsLzbvwx6xriul+5HptBSxSn1letBx5xLTKFOOLOahCBipR8gFcyiXUqiiss66xsoyWt0i9XQKEt0qiwUMqSVpVhg4sE4gZv1cdOBJqeEVBazKu4qu6mqNPiW1/Yg0XyPFw2Ps0JBA0OSgZC+Hvu9/wDNaKSXEjolRlL15vs2fnvJC26omUUFwYym32M3NMdbSUIA/wAcwAp/KtlWmjnqaNt5rYsPn/6Ol5Zw3s50KvsV5QILCbjr7CsfKlwE4erTW++J85DwOcdn7WurD7sHNw0R2r80iI+p9gOjMdUjMKho3NylFf8AosGdISk7R6yw9niej43izXsD3V2nmDXcPEZPEr6poCYa8GngoBdAFAFARETwkrjj1U0A4oCndW5WF5tv4Y9Y1yXK2o9BoaWIT6yCyTn2aHbJJlzFxJjjma66hoqd7nw0oZw0BajoKiRgK0p6qXzOq7jVqTWFld2ed/JEPlHfF3qcl1LQjxGUBqLGQe9ZbG0OHyndNazesyW2pqjDHG3xvnInPrTBPrGM6mDGsGdWcGHIe2U43aLxgqWj66ODSL/x5dniel4xwjNewPdXaeaNdwP+hk8SvqmgJpnwSeCgF0AUAUBDxfCSuOPVTQDjGgKs1YrFc7lNhS4MYustMlCikjHHOx2qhq03J7CzsLqFCMlPlK4+Td63g9yVDvMjv9JUOcx8m71vB3kpvMjHpOhzh8mr1vB3kpvMh6Soc4fJu9bwd5KbzIekqHOY+Td53g7yVneZGPSVDnHtoyfuzVzjLcguhIWMThW9OnJSyzmu72lVpOMXtPQsfER2wRpCBXQVBruHiEniV9U0BNs+CTwUAugCgCgIeN4STxx6qaA3UBggEadNAJzEfdHJQAUo+6nkoDBSj7o5KAwUo+6OSgMZqfujkoAzU/dHJQGaAb3DxCTxK+qaAnGfBJ4KAXQBQBQEU/aHHH3HGbhJYCznFCAgjHADdSTuUBr2Gk+mJnNa+CgDYaT6Ymc1r4KANhpHpeZzWvgoA2Fkel5fNa+CgDYWR6Xl81r4KANhZHpeXzWvgoDGwj/peXzWvgoA2Ef9LS+a18FAGwkj0tL5rXwUBjYN46HbnKWg6FJIbGcPJoTQE0kYDAUB/9k=";
                         $scope.txt="data:image/png;base64,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";

                     $scope.chatHistory=[]
                      $scope.ProductData=[]

                $scope.selectedPrdctDetail=[];

          $scope.getcampaignDetails=function(){

            //$scope.showspinner=true;

            campaignService.getCampaignDetails().then(function(response){

            $scope.campaignData=response.data[0];

              $scope.products=$scope.campaignData.products;

             $scope.retailers=$scope.campaignData.rid;

             $scope.retailerDetails=$scope.campaignData.retailer_details;
             $scope.mfgDetails=$scope.campaignData.mfg_details;

             $scope.campaignStatus=$scope.campaignData.campaign_status;

           var filesplit = null;

              if($scope.campaignData.files[0].original_file_name.indexOf(".")!== -1){ 
            filesplit=$scope.campaignData.files[0].original_file_name.split(".");
             }

             if(filesplit.length >= 2){
           $scope.file_type = filesplit[1];
          }

              for(var i=0;i<$scope.products.length;i++){

                var productParts=$scope.products[i].split("|");

                if($scope.role=="cpg"){

                  if(productParts[2]==sessionStorage.mfgName){

             var result=$filter('filter')($scope.mfgDetails,{upc:productParts[1]});

                    var productObject=
                       {
                        "PrdctTitle": $scope.retailerDetails[0].retailer_name,
                        "prdctName":productParts[0],
                        "retailerName":$scope.retailerDetails[0].retailer_name,
                        "prdctsize":result[0].size,
                        "upc":productParts[1],
                        "personName":$scope.retailerDetails[0].user_name,
                        "personDesignation":$scope.retailerDetails[0].designation,
                        "personNumber":$scope.retailerDetails[0].mobile,
                        "personId":$scope.retailerDetails[0].email,
                        "manufacturer":productParts[2]
                        }
           $scope.ProductData.push(productObject);
                  }
                }
                else{

        var result=$filter('filter')($scope.mfgDetails,{upc:productParts[1]});

                   var productObject=
                       {
                        "PrdctTitle": result[0].mfg_name,
                        "prdctName":productParts[0],
                        "retailerName":$scope.retailers[0].split("|")[1],
                        "prdctsize":result[0].size,
                        "upc":productParts[1],
                        "personName":result[0].user_name,
                        "personDesignation":result[0].designation,
                        "personNumber":result[0].mobile,
                        "personId":result[0].email,
                        "manufacturer":productParts[2]
                        }
           $scope.ProductData.push(productObject);
            
                }

               }

               $scope.prdctselected = {
              "prdctName": $scope.ProductData[0].prdctName
               }

    $scope.selectedPrdctDetail.push($scope.ProductData[0]);
    $scope.capaignstartDate=moment($scope.campaignData.start_date).format("MM/DD/YYYY");
    $scope.campaignenddate=moment($scope.campaignData.end_date).format("MM/DD/YYYY");
    $scope.deadlineDate=moment($scope.campaignData.deadline_date).format("MM/DD/YYYY");
    $scope.stores=[];

         for(var i=0;i<$scope.campaignData.campaign_location.length;i++){
          var storeparts=$scope.campaignData.campaign_location[i].split("|");
          $scope.stores.push(storeparts[1]);
         }

        $scope.sendData={
                        "CampaignsName":$scope.campaignData.campaign_name,
                         "Image":"",
                         "startdate":$scope.capaignstartDate,
                         "enddate":$scope.campaignenddate,
                         "DeadlineDate":$scope.deadlineDate,
                         "sheetName":$scope.campaignData.files,
                         "promotionType":$scope.campaignData.promotionTypes,
                         "stores":$scope.stores,
                         "Additionalsheet":"Signed-Fathers-Day-BBQ-ad-sheet.xls",
                         "logoName":"Nathans-logo.jpg"
                       }

                       var d = new Date();

                                var weekday = new Array(7);
                                weekday[0] =  "Sunday";
                                weekday[1] = "Monday";
                                weekday[2] = "Tuesday";
                                weekday[3] = "Wednesday";
                                weekday[4] = "Thursday";
                                weekday[5] = "Friday";
                                weekday[6] = "Saturday";    

                                var n = weekday[d.getDay()];

                                var time= d.getHours()+":" + d.getMinutes() ;

                                var hours=d.getHours();

                                 hours = (hours+24-2)%24; 
                                var mid='am';
                                if(hours==0){ //At 00 hours we need to show 12 am
                                hours=12;
                                }
                                else if(hours>12)
                                {
                                hours=hours%12;
                                mid='pm';
                                }

    time= d.getHours()+":" + d.getMinutes() +":"+d.getSeconds() + " " +mid;
    $scope.capaigneventstartDate=moment($scope.campaignData.start_date).format("MM/DD/YY");
    $scope.campaigneventenddate=moment($scope.campaignData.end_date).format("MM/DD/YY");
    $scope.deadlineeventDate=moment($scope.campaignData.deadline_date).format("MM/DD/YY");

                       var chartObject={
                              "Day":n, 
                              "Time":time, 
                              "datetime":d,
                              "eventOccour":$scope.retailers[0].split("|")[1]+
                              "invited you to participate in the "+
                                            $scope.campaignData.campaign_name+" for" ,
                              "eventOccour1":" From "+$scope.capaigneventstartDate+" to "+ $scope.campaigneventenddate,
                              "eventOccour2":" Deadline for sign up: "+$scope.deadlineeventDate,
                              "eventOccour3":"",
                              "CustomerMsg":"",
                              "RetailerMsg":"",
                              "MessageType":"Event"
                           }
            $scope.chatHistory.push(chartObject);
            },function(response){
            });
          }

          $scope.getcampaignDetailsforCPG=function(){

            campaignService.getCampaignDetailsforCPG().then(function(response){
            $scope.campaignData=response.data[0];
            $scope.products=$scope.campaignData.products;
            $scope.retailers=$scope.campaignData.rid;
            $scope.retailerDetails=$scope.campaignData.retailer_details;
            $scope.mfgDetails=$scope.campaignData.mfg_details;
            $scope.campaignStatus=$scope.campaignData.campaign_status;
           var filesplit = null;
              if($scope.campaignData.files[0].original_file_name.indexOf(".")!== -1){ 
            filesplit=$scope.campaignData.files[0].original_file_name.split(".");
             }
             if(filesplit.length >= 2){
             $scope.file_type = filesplit[1];
             }
              for(var i=0;i<$scope.products.length;i++){
                var productParts=$scope.products[i].split("|");
              if($scope.role=="cpg"){
              if(productParts[2]==sessionStorage.mfgName){
             var result=$filter('filter')($scope.mfgDetails,{upc:productParts[1]});
                    var productObject=
                       {
                        "PrdctTitle": $scope.retailerDetails[0].retailer_name,
                        "prdctName":productParts[0],
                        "retailerName":$scope.retailerDetails[0].retailer_name,
                        "prdctsize":result[0].size,
                        "upc":productParts[1],
                        "personName":$scope.retailerDetails[0].user_name,
                        "personDesignation":$scope.retailerDetails[0].designation,
                        "personNumber":$scope.retailerDetails[0].mobile,
                        "personId":$scope.retailerDetails[0].email,
                        "manufacturer":productParts[2]
                        }
           $scope.ProductData.push(productObject);
                  }
                }
                else{
        var result=$filter('filter')($scope.mfgDetails,{upc:productParts[1]});
                   var productObject=
                       {
                        "PrdctTitle": result[0].mfg_name,
                        "prdctName":productParts[0],
                        "retailerName":$scope.retailers[0].split("|")[1],
                        "prdctsize":result[0].size,
                        "upc":productParts[1],
                        "personName":result[0].user_name,
                        "personDesignation":result[0].designation,
                        "personNumber":result[0].mobile,
                        "personId":result[0].email,
                        "manufacturer":productParts[2]
                        }
           $scope.ProductData.push(productObject);
                }
               }
               $scope.prdctselected = {
              "prdctName": $scope.ProductData[0].prdctName
               }
    $scope.selectedPrdctDetail.push($scope.ProductData[0]);
    $scope.capaignstartDate=moment($scope.campaignData.start_date).format("MM/DD/YYYY");
    $scope.campaignenddate=moment($scope.campaignData.end_date).format("MM/DD/YYYY");
    $scope.deadlineDate=moment($scope.campaignData.deadline_date).format("MM/DD/YYYY");
         $scope.stores=[];
         for(var i=0;i<$scope.campaignData.campaign_location.length;i++){
          var storeparts=$scope.campaignData.campaign_location[i].split("|");
          $scope.stores.push(storeparts[1]);
         }
        $scope.sendData={
                        "CampaignsName":$scope.campaignData.campaign_name,
                         "Image":"",
                         "startdate":$scope.capaignstartDate,
                         "enddate":$scope.campaignenddate,
                         "DeadlineDate":$scope.deadlineDate,
                         "sheetName":$scope.campaignData.files,
                         "promotionType":$scope.campaignData.promotionTypes,
                         "stores":$scope.stores,
                         "Additionalsheet":"Signed-Fathers-Day-BBQ-ad-sheet.xls",
                         "logoName":"Nathans-logo.jpg"
                       }
                       var d = new Date();
                                var weekday = new Array(7);
                                weekday[0] =  "Sunday";
                                weekday[1] = "Monday";
                                weekday[2] = "Tuesday";
                                weekday[3] = "Wednesday";
                                weekday[4] = "Thursday";
                                weekday[5] = "Friday";
                                weekday[6] = "Saturday";    
                                var n = weekday[d.getDay()];
                                var time= d.getHours()+":" + d.getMinutes() ;
                                var hours=d.getHours();
                                 hours = (hours+24-2)%24; 
                                var mid='am';
                                if(hours==0){ //At 00 hours we need to show 12 am
                                hours=12;
                                }
                                else if(hours>12)
                                {
                                hours=hours%12;
                                mid='pm';
                                }
       time= d.getHours()+":" + d.getMinutes() +":"+d.getSeconds() + " " +mid;
    $scope.capaigneventstartDate=moment($scope.campaignData.start_date).format("MM/DD/YY");
    $scope.campaigneventenddate=moment($scope.campaignData.end_date).format("MM/DD/YY");
    $scope.deadlineeventDate=moment($scope.campaignData.deadline_date).format("MM/DD/YY");

                       var chartObject={
                              "Day":n, 
                              "Time":time, 
                              "datetime":d,
                              "eventOccour":$scope.retailers[0].split("|")[1]+
                              "invited you to participate in the "+
                                            $scope.campaignData.campaign_name+" for" ,
                              "eventOccour1":" From "+$scope.capaigneventstartDate+" to "+ $scope.campaigneventenddate,
                              "eventOccour2":" Deadline for sign up: "+$scope.deadlineeventDate,
                              "eventOccour3":"",
                              "CustomerMsg":"",
                              "RetailerMsg":"",
                              "MessageType":"Event"
                           }

                       $scope.chatHistory.push(chartObject);

            },function(response){

            });

          }


          $scope.getcampaignDetailsforDistributor=function(){

            campaignService.getCampaignDetailsforDistributor().then(function(response){
            $scope.campaignData=response.data[0];
            $scope.products=$scope.campaignData.products;
            $scope.retailers=$scope.campaignData.rid;
            $scope.retailerDetails=$scope.campaignData.retailer_details;
            $scope.mfgDetails=$scope.campaignData.mfg_details;
            $scope.campaignStatus=$scope.campaignData.campaign_status;
           var filesplit = null;
              if($scope.campaignData.files[0].original_file_name.indexOf(".")!== -1){ 
            filesplit=$scope.campaignData.files[0].original_file_name.split(".");
             }
             if(filesplit.length >= 2){
             $scope.file_type = filesplit[1];
             }

              for(var i=0;i<$scope.products.length;i++){

                var productParts=$scope.products[i].split("|");

                if($scope.role=="cpg"){

                  if(productParts[2]==sessionStorage.mfgName){

             var result=$filter('filter')($scope.mfgDetails,{upc:productParts[1]});

                    var productObject=
                       {
                        "PrdctTitle": $scope.retailerDetails[0].retailer_name,
                        "prdctName":productParts[0],
                        "retailerName":$scope.retailerDetails[0].retailer_name,
                        "prdctsize":result[0].size,
                        "upc":productParts[1],
                        "personName":$scope.retailerDetails[0].user_name,
                        "personDesignation":$scope.retailerDetails[0].designation,
                        "personNumber":$scope.retailerDetails[0].mobile,
                        "personId":$scope.retailerDetails[0].email,
                        "manufacturer":productParts[2]
                        }
           $scope.ProductData.push(productObject);
                  }
                }
                else{

        var result=$filter('filter')($scope.mfgDetails,{upc:productParts[1]});

                   var productObject=
                       {
                        "PrdctTitle": result[0].mfg_name,
                        "prdctName":productParts[0],
                        "retailerName":$scope.retailers[0].split("|")[1],
                        "prdctsize":result[0].size,
                        "upc":productParts[1],
                        "personName":result[0].user_name,
                        "personDesignation":result[0].designation,
                        "personNumber":result[0].mobile,
                        "personId":result[0].email,
                        "manufacturer":productParts[2]
                        }
           $scope.ProductData.push(productObject);
            
                }

               }

               $scope.prdctselected = {
              "prdctName": $scope.ProductData[0].prdctName
               }

               $scope.selectedPrdctDetail.push($scope.ProductData[0]);

    $scope.capaignstartDate=moment($scope.campaignData.start_date).format("MM/DD/YYYY");

   $scope.campaignenddate=moment($scope.campaignData.end_date).format("MM/DD/YYYY");

    $scope.deadlineDate=moment($scope.campaignData.deadline_date).format("MM/DD/YYYY");

         $scope.stores=[];

         for(var i=0;i<$scope.campaignData.campaign_location.length;i++){
          var storeparts=$scope.campaignData.campaign_location[i].split("|");
          $scope.stores.push(storeparts[1]);
         }

        $scope.sendData={
                        "CampaignsName":$scope.campaignData.campaign_name,
                         "Image":"",
                         "startdate":$scope.capaignstartDate,
                         "enddate":$scope.campaignenddate,
                         "DeadlineDate":$scope.deadlineDate,
                         "sheetName":$scope.campaignData.files,
                         "promotionType":$scope.campaignData.promotionTypes,
                         "stores":$scope.stores,
                         "Additionalsheet":"Signed-Fathers-Day-BBQ-ad-sheet.xls",
                         "logoName":"Nathans-logo.jpg"
                       }

                       var d = new Date();

                                var weekday = new Array(7);
                                weekday[0] =  "Sunday";
                                weekday[1] = "Monday";
                                weekday[2] = "Tuesday";
                                weekday[3] = "Wednesday";
                                weekday[4] = "Thursday";
                                weekday[5] = "Friday";
                                weekday[6] = "Saturday";    

                                var n = weekday[d.getDay()];

                                var time= d.getHours()+":" + d.getMinutes() ;

                                var hours=d.getHours();

                                 hours = (hours+24-2)%24; 
                                var mid='am';
                                if(hours==0){ //At 00 hours we need to show 12 am
                                hours=12;
                                }
                                else if(hours>12)
                                {
                                hours=hours%12;
                                mid='pm';
                                }

       time= d.getHours()+":" + d.getMinutes() +":"+d.getSeconds() + " " +mid;
    $scope.capaigneventstartDate=moment($scope.campaignData.start_date).format("MM/DD/YY");
   $scope.campaigneventenddate=moment($scope.campaignData.end_date).format("MM/DD/YY");
    $scope.deadlineeventDate=moment($scope.campaignData.deadline_date).format("MM/DD/YY");

                       var chartObject={
                              "Day":n, 
                              "Time":time, 
                              "datetime":d,
                              "eventOccour":$scope.retailers[0].split("|")[1]+
                              " invited you to participate in the "+
                                            $scope.campaignData.campaign_name+" for" ,
                              "eventOccour1":" From "+$scope.capaigneventstartDate+" to "+ $scope.campaigneventenddate,
                              "eventOccour2":" Deadline for sign up: "+$scope.deadlineeventDate,
                              "eventOccour3":"",
                              "CustomerMsg":"",
                              "RetailerMsg":"",
                              "MessageType":"Event"
                           }

                       $scope.chatHistory.push(chartObject);

            },function(response){

            });

          }

            $scope.sendChatMessage=function()
                          {
                                var d = new Date();
                                var weekday = new Array(7);
                                weekday[0] =  "Sunday";
                                weekday[1] = "Monday";
                                weekday[2] = "Tuesday";
                                weekday[3] = "Wednesday";
                                weekday[4] = "Thursday";
                                weekday[5] = "Friday";
                                weekday[6] = "Saturday";    

                                var n = weekday[d.getDay()];
                                var time= d.getHours()+":" + d.getMinutes() ;
                                var hours=d.getHours();
                                 hours = (hours+24-2)%24; 
                                var mid='am';
                                if(hours==0){ //At 00 hours we need to show 12 am
                                hours=12;
                                }
                                else if(hours>12)
                                {
                                hours=hours%12;
                                mid='pm';
                                }
                                 time= d.getHours()+":" + d.getMinutes() +":"+d.getSeconds() + " " +mid;
                                var month = new Array();
                                  month[0] = "01";
                                  month[1] = "02";
                                  month[2] = "03";
                                  month[3] = "04";
                                  month[4] = "05";
                                  month[5] = "06";
                                  month[6] = "07";
                                  month[7] = "08";
                                  month[8] = "09";
                                  month[9] = "10";
                                  month[10] = "11";
                                  month[11] = "12";

                                  $scope.dd=d.getDate();

                                  if($scope.dd<10){
                                    $scope.dd="0"+$scope.dd;
                                  }

                                var date = month[d.getMonth()]+"/"+$scope.dd+"/"+ d.getFullYear();
                               
                                var chartMessage={
                                    
                              "Day":n,
                              "Time":time, 
                              "datetime":d,
                              "CustomerMsg":$scope.user.chatText,
                              "RetailerMsg":"",
                              "MessageType":"Chat",
                              "chatdate":date
                                };

                                $scope.chatHistory.push(
                                chartMessage
                                );
         PubnubService.sendMessage($scope.user.chatText, 'chat',$scope.selectedChannel.pchannel);                   
         $scope.user.chatText="";
                          };
$scope.selectedProduct= function(selectedprdct,record){

        if($scope.prdctselected.prdctName!=selectedprdct){
           $scope.pageloader=true;
        $scope.selectedPrdctDetail=[];
console.log(selectedprdct);
$scope.prdctselected = {
              "prdctName": selectedprdct
               }

        $scope.chatHistory.splice(1);
        $scope.productmessages=[];
    for(var i=0;i<$scope.ProductData.length;i++ ){
        if(selectedprdct==$scope.ProductData[i].prdctName){
        $scope.selectedPrdctDetail.push($scope.ProductData[i]);
    }
    }

       $scope.selectedprdct = {
              "prdctName": $scope.ProductData[0].prdctName
               }
    var recordfound=$filter('filter')($scope.allproductchannels,{pid:record.upc});
            $scope.selectedchannleUpc= recordfound[0].pid;
            $scope.selectedChannel=recordfound[0];
            $scope.selectedchannels=[recordfound[0].pchannel];
             PubnubService.getMessages(recordfound[0].pchannel)
        }
      }

            //pubnub api integrattion

            $scope.getmessagehistory=function(response){
                
    var result=$filter('filter')($scope.grantApiResponse.productDetails,{pid:$scope.selectedChannel.pid});
                   
         angular.forEach($scope.productmessages,function(messagerecord){
            if(result[0].pchannel==messagerecord.channel){

        angular.forEach(messagerecord.messages,function(chatmessage){
 
          if(chatmessage.messageCategory){

                                var d = new Date();

                                var weekday = new Array(7);
                                weekday[0] =  "Sunday";
                                weekday[1] = "Monday";
                                weekday[2] = "Tuesday";
                                weekday[3] = "Wednesday";
                                weekday[4] = "Thursday";
                                weekday[5] = "Friday";
                                weekday[6] = "Saturday";    

                               

                                var time= d.getHours()+":" + d.getMinutes() ;

                                var hours=d.getHours();

                                 hours = (hours+24-2)%24; 
                                var mid='am';
                                if(hours==0){ //At 00 hours we need to show 12 am
                                hours=12;
                                }
                                else if(hours>12)
                                {
                                hours=hours%12;
                                mid='pm';
                                }

                         //time= d.getHours()+":" + d.getMinutes() +":"+d.getSeconds() + " " +mid;
                           
                             var month = new Array();
                                  month[0] = "01";
                                  month[1] = "02";
                                  month[2] = "03";
                                  month[3] = "04";
                                  month[4] = "05";
                                  month[5] = "06";
                                  month[6] = "07";
                                  month[7] = "08";
                                  month[8] = "09";
                                  month[9] = "10";
                                  month[10] = "11";
                                  month[11] = "12";

        var chatDate=new Date(chatmessage.date);
        $scope.dd=chatDate.getDate();
        if($scope.dd<10){
          $scope.dd="0"+$scope.dd;
        }

        var date = month[chatDate.getMonth()]+"/"+$scope.dd+"/"+ chatDate.getFullYear();
        var n = weekday[chatDate.getDay()];
        time= chatDate.getHours()+":"+chatDate.getMinutes()+":"+chatDate.getSeconds() + " " +mid;

        var chartMessage={
                    "Day":n,
                    "Time":time, 
                    "datetime":d,
                    "CustomerMsg":chatmessage.content,
                    "RetailerMsg":"",
                    "MessageType":"Chat",
                    "avatar":chatmessage.avatar,
                    "chatdate":date
                    };

            $scope.chatHistory.push(chartMessage);
          }
          });
          }
          })
        $anchorScroll();
         }


    var auth_key=sessionStorage.token;

            $scope.grantapiCall=function(){
            sessionStorage.campaignId=$scope.cid;
             var data={}
              $scope.pageloader=true;
         campaignService.grant(data).then(function (response) {
           angular.copy(response.data,$scope.grantApiResponse);
            $scope.initchatchannel(response.data);
          },function(response){
               console.log(response);
          });  
          }
               

        $scope.getchannelnames=function(response){
            $scope.channel_names=[];
            $scope.allproductchannels=[];

            angular.forEach(response.campaignDetails, function(value, key) {
            $scope.channel_names.push(value.cchannel);
               var obj={
                "pchannel":value.cchannel,
                "pid":value.cid

               }
             $scope.allproductchannels.push(obj);
            });
            //console.log("product details...",$scope.ProductData);
            for(var i=0;i<$scope.ProductData.length;i++){
       var result=$filter('filter')(response.productDetails,{pid:$scope.ProductData[i].upc});
               //console.log("result...",result);
                $scope.channel_names.push(result[0].pchannel);
              $scope.allproductchannels.push(result[0]);
            }

           /* angular.forEach(response.productDetails, function(value, key) {
            $scope.channel_names.push(value.pchannel);
            $scope.allproductchannels.push(value);
            });*/

            $scope.selectedChannel=$scope.allproductchannels[1];
           // console.log("selected channel...",$scope.selectedChannel);
            $scope.selectedchannels=[$scope.allproductchannels[1].pchannel];
             $scope.selectedchannleUpc= $scope.selectedChannel.pid;  
            }

               
        $scope.initresponse={};

        $scope.initchatchannel=function(grantAPIResp){
             $scope.getchannelnames(grantAPIResp);
                   $scope.pubnubinit(grantAPIResp);
                  }
                  $scope.pubnubinit=function(grantAPIResp){
                    PubnubService.init(grantAPIResp.pkey, grantAPIResp.skey, auth_key,$scope.channel_names, sessionStorage.user, null)
                .then(function (result) {
                  angular.copy(result,$scope.initresponse);
               //console.log("selected channel...",$scope.selectedChannel);
                    PubnubService.getMessages($scope.selectedChannel.pchannel)
                })
                .catch(function (error) {
                  console.log("Error in Pubnub init: "+ error);
                });
                  }


    $rootScope.$on('getmessages', function (event, data) {
       $scope.pageloader=false;
        if(data.channel==$scope.selectedchannels[0]){
            var response={
                "channel":data.channel,
                "messages":data.mesages
            }
              $scope.productmessages.push(response);
            $scope.getmessagehistory(response)
        }

        });


      $scope.fetchPreviousMessages=function(){
        $scope.productmessages=[];
        PubnubService.fetchPreviousMessages($scope.selectedChannel.pchannel).then(function(response){
             var response={
                "channel":$scope.selectedChannel.pchannel,
                "messages":response.messages[0]
            }
              $scope.productmessages.push(response);
            $scope.getmessagehistory(response)
        }).catch(function(error){

        });
      }

        $scope.handleScrollToTop = function () {
    $scope.fetchPreviousMessages();
  };
  
  $scope.handleScrollToBottom = function () {
  };

   $scope.campaigndelete = function () {
        sessionStorage.cId=$scope.cid;
        campaignService.deleteCampaign().then(function (response) {
            $scope.message = response.data;
            angular.element(document).ready(function () {
              angular.element("#cancelcampaign").modal('hide');

            });

            $state.go('campaignListPending',{status: 'Pending'});
          }, function (response) {
            console.log(response);
          }
        );
      }


      $('#myfile').click(function(){ $('#fileupload').trigger('click'); });
         $scope.addsheetList=[];
         $scope.getadsheetDetails = function () {
          $scope.fileuploadspinner=true;
        var adsheetfiles = document.getElementById('fileupload').files;
     if (!adsheetfiles.length) {
       return alert('Please choose a file to upload first.');
     }

      $scope.addsheetfileid = dashBoardService.generateguid();
     var adfilesplit=adsheetfiles[0].name.split(".");
     var guidadfileName=$scope.addsheetfileid+"."+adfilesplit[1];
       var addsheetfileobject={
      "orginalName":adsheetfiles[0].name,
      "guidName":guidadfileName,
      "file_path":"https://r10x-campaign.s3-us-west-2.amazonaws.com/retailer/"+$scope.cid+"/"+guidadfileName,
     }
     $scope.addsheetList.push(addsheetfileobject);
      var object ={
            "file":adsheetfiles,
            "title":"addfile",
             "quidfileName":guidadfileName,
             "campaignId":$scope.cid
            }

          $rootScope.$emit('addfile', object);
          $scope.listofFiles=[];
       var fileObject={
          "original_file_name" :adsheetfiles[0].name,
          "file_path" : "https://r10x-campaign.s3-us-west-2.amazonaws.com/retailer/"+$scope.cid+"/"+guidadfileName,
        }
       $scope.listofFiles.push(fileObject);
 var addfilesdata={
          "campaign_id" : parseInt($scope.cid),
          "retailer_id" : parseInt(sessionStorage.user),
           "file_details": $scope.listofFiles
        }
        campaignService.addCampaignFile(addfilesdata).then(function(response){
           sessionStorage.cId=$scope.cid;
           $scope.user.chatText=adsheetfiles[0].name+" Uploaded";
           $scope.sendChatMessage();
           $scope.fileuploadspinner=false;
        },function(response){
          console.log("adding campaign files failed...");
        })
        };

        $scope.startCampaign=function(){
          var campaignUpdatedata={
              "cid": $scope.cid,
              "rid": sessionStorage.user,
              "status_id":4
               }
               sessionStorage.cId=$scope.cid;
    campaignService.updateCampaignStatus(campaignUpdatedata).then(function (response) {
         $state.go('campaignListPending',{status: 'Pending'});
          }, function (response) {
            console.log(response);
          }
        );
        }



       $scope.init=function(){
       $scope.role = sessionStorage.role;
      $scope.cid = $stateParams.id;
      sessionStorage.cId=$scope.cid;

      if($scope.role=="cpg"){
      $scope.getcampaignDetailsforCPG();
      }
      else if($scope.role=="retailer") 
      {
      $scope.getcampaignDetails();
      }
      else if($scope.role=="distributor"){
      $scope.getcampaignDetailsforDistributor();
      }
      $timeout(function () {
      $scope.grantapiCall();
      }, 1000);
      }
      $scope.init();
     }]);